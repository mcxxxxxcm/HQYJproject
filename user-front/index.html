<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="./js/vue.js" type="text/javascript"></script>
		<script src="./js/index.js" type="text/javascript"></script>
		<script src="./js/axios.min.js" type="text/javascript"></script>
		<link href="./css/index.css" rel="stylesheet">
	</head>
	<body>
		<div id="index" class="myHeight">
			<el-container class="myHeight">
				<el-header>
					<el-col :span="8">
						<span style="">智慧农场管理系统</span>
					</el-col>
					<el-col :span="8">&nbsp;</el-col>
					<el-col :span="8" align="right">
						<el-button type="success" size="mini" icon="el-icon-check" @click="logout">退出系统
						</el-button>
						<!-- {{}}：插值表达式，用来在标签中显示文本内容的变量 -->
						<i class="el-icon-s-custom"></i><span style="font-size: 10px;">{{username}}</span>
					</el-col>


				</el-header>
				<el-container class="myHeight">
					<el-aside width="220px">
						<el-menu :default-openeds="['0']" class="el-menu-vertical-demo" background-color="whitesmoke"
							text-color="black" active-text-color="white">

							<el-submenu index="0">
								<template slot="title">
									<i class="el-icon-s-tools"></i>
									<span>用户管理</span>
								</template>
								<el-menu-item @click="openUrl('userList.html')">
									<i class="el-icon-user-solid"></i>
									用户列表
								</el-menu-item>
							</el-submenu>

							<el-submenu index="1">
								<template slot="title">
									<i class="el-icon-s-tools"></i>
									<span>订单管理</span>
								</template>
								<el-menu-item @click="openUrl('productList.html')">
									<i class="el-icon-tickets"></i>
									订单列表
								</el-menu-item>
							</el-submenu>
						</el-menu>

					</el-aside>
					<el-main>
						<div style="height: 100%;">
							<!-- 浮动的页面框架，用来嵌套其它的页面 -->
							<!--  v-bind:属性绑定，将变量绑定给某个属性，缩写：英文冒号 -->
							<iframe class="myIfame" scrolling="auto" rameborder="0" :src="url" name="right"
								width="100%"></iframe>
						</div>
					</el-main>
				</el-container>
			</el-container>
		</div>
	</body>

	<script>
		new Vue({
			el: "#index",
			data() {
				return {
					username: sessionStorage.getItem("username"),
					url: ''
				}
			},
			methods: {
				logout() {
					//清除页面缓存
					sessionStorage.clear();

					//跳转到登录页面
					location.href = 'login.html';
				},
				openUrl(url) {
					this.url=url;
				}
			}
		})
	</script>

	<style>
		html,
		body {
			height: 100%;
			margin: 0px;
		}

		.myHeight {
			height: 100%;
		}

		.el-header {
			background-color: lightseagreen;
			background-size: cover;
			overflow: hidden;
			color: white;
			padding-top: 15px;
			height: 100%;
		}

		.el-aside {
			background-color: whitesmoke;
			height: 100%;

		}

		.el-main {
			color: #333;
			height: 100%;
			padding: 10px;
		}

		.myIfame {
			border: 0px solid;
			height: 100%;
		}
	</style>
</html>
